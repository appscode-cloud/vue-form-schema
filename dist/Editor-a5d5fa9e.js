"use strict";var e=require("vue"),a=e.defineComponent({__name:"Editor",props:{modelValue:{default:""},originalValue:{default:""},readOnly:{type:Boolean,default:!1},language:{default:""},showMinimap:{type:Boolean,default:!1},editorHeight:{default:40},editorTheme:{default:""},wordWrap:{default:"on"},validation:{default:()=>({uri:""})}},emits:["update:modelValue"],setup(a,{emit:t}){const o=a,n=e.defineAsyncComponent((()=>Promise.resolve().then((function(){return require("./EditorTabs-d3112cc4.js")})))),l=e.defineAsyncComponent((()=>Promise.resolve().then((function(){return require("./Preloader-46710ac3.js")})))),i=e.defineAsyncComponent((()=>Promise.resolve().then((function(){return require("./Banner-bfcd6aac.js")})))),r=e.defineAsyncComponent({loader:()=>Promise.resolve().then((function(){return require("./MonacoEditor-e05c3422.js")})),loadingComponent:l,delay:200,errorComponent:i,timeout:1e5}),d=e.ref("edit"),u=e.ref(""),s=e.ref(""),c=e.computed((()=>{const e=u.value.split("\n").length;return o.showMinimap&&e>25})),m=e.computed((()=>o.editorTheme||(document.documentElement.classList.contains("is-dark-theme")?"vs-dark":"vs"))),v=e=>{"string"==typeof e&&(u.value=e)},p=e=>{e.onDidBlurEditorText instanceof Function&&e.onDidBlurEditorText((()=>{t("update:modelValue",u.value)}))},f=e.computed((()=>"number"==typeof o.editorHeight?`vh-${o.editorHeight}`:"")),g=e.computed((()=>"string"==typeof o.editorHeight?{height:o.editorHeight}:{}));return e.watch((()=>o.modelValue),(e=>{u.value!==e&&(u.value=e)}),{immediate:!0}),e.watch((()=>o.originalValue),(e=>{s.value!==e&&(s.value=e)}),{immediate:!0}),(a,t)=>(e.openBlock(),e.createElementBlock("div",null,[a.readOnly?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(n),{key:0,onTabchange:t[0]||(t[0]=e=>d.value=e),"active-tab":d.value},null,8,["active-tab"])),"edit"===d.value?(e.openBlock(),e.createBlock(e.unref(r),{onEditorDidMount:p,key:"edit",class:e.normalizeClass(["is-clipped",f.value]),style:e.normalizeStyle(g.value),value:u.value,onChange:v,language:a.language,options:{minimap:{enabled:c.value},theme:m.value,readOnly:a.readOnly,wordWrap:a.wordWrap,scrollBeyondLastLine:!1},validation:a.validation,"data-testid":"monaco-editor-edit-section"},null,8,["class","style","value","language","options","validation"])):e.createCommentVNode("",!0),"preview"===d.value?(e.openBlock(),e.createBlock(e.unref(r),{key:"preview",class:e.normalizeClass(["is-clipped",f.value]),style:e.normalizeStyle(g.value),value:u.value,language:a.language,options:{minimap:{enabled:c.value},theme:m.value,readOnly:!0,wordWrap:a.wordWrap,scrollBeyondLastLine:!1},original:s.value,"diff-editor":!0,validation:a.validation,"data-testid":"monaco-editor-preview-section"},null,8,["class","style","value","language","options","original","validation"])):e.createCommentVNode("",!0)]))}});exports.default=a;