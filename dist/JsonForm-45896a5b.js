import{m as e,n as t}from"./entry-1e6d19f9.js";import{M as i,j as a}from"./vue-monaco.es-65c4782d.js";var n=t({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ml-30"},[i("div",{staticClass:"tabs ac-tabs is-line"},[i("ul",[i("li",{class:{"is-active":"file"===e.activeTab}},[i("a",{on:{click:function(t){t.preventDefault(),e.activeTab="file"}}},[i("span",[e._v("File")])])]),e._v(" "),i("li",{class:{"is-active":"preview-changes"===e.activeTab}},[i("a",{on:{click:function(t){t.preventDefault(),e.activeTab="preview-changes"}}},[i("span",[e._v("Preview Changes")])])])])]),e._v(" "),"file"===e.activeTab?i("div",[i("monaco-editor",{key:e.editorTheme,ref:"monacoEditor",staticClass:"editor-writable vh-80 is-clipped",attrs:{options:{minimap:{enabled:!0},theme:e.editorTheme,readOnly:!1},"diff-editor":"preview-changes"===e.activeTab,language:"yaml"},on:{editorDidMount:e.onEditorMount},model:{value:e.valueString,callback:function(t){e.valueString=t},expression:"valueString"}})],1):i("div",[i("monaco-editor",{key:e.activeTab+e.editorTheme,ref:"monacoDiffEditor",staticClass:"editor-writable vh-80 is-clipped",attrs:{options:{minimap:{enabled:!0},theme:e.editorTheme,readOnly:!0},value:e.valueString,"diff-editor":!0,original:e.originalValueString,language:"yaml"}})],1)])},staticRenderFns:[]},void 0,{name:"yaml-form",props:{value:{type:null,default:function(){return{}}}},inject:["providedData"],mixins:[e],components:{MonacoEditor:i},data:function(){return{activeTab:"file",valueString:""}},computed:{originalValueString:function(){return JSON.stringify(this.referenceModel,null,2)},theme:function(){return this.providedData.theme||"light"},editorTheme:function(){return"dark"===this.theme?"vs-".concat(this.theme):"vs"}},methods:{initValueString:function(){this.valueString=JSON.stringify(this.value,null,2)},updateModelData:function(){var e=null;try{e=a.safeLoad(this.valueString,{json:!0})}catch(t){e=this.modelData}this.modelData=e,this.$emit("code::model-data-updated",e)},onEditorMount:function(){this.$refs.monacoEditor.getEditor().onDidBlurEditorText(this.updateModelData)}},created:function(){this.initValueString()},watch:{value:function(){this.initValueString()}}},void 0,!1,void 0,!1,void 0,void 0,void 0);export{n as default};