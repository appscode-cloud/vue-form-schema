import{defineComponent as e,defineAsyncComponent as t,resolveComponent as n,openBlock as r,createBlock as a,withCtx as i,createVNode as o,renderSlot as l,createElementVNode as u,normalizeClass as s,computed as c,unref as d,onMounted as f,provide as v,isRef as p,watch as h,onBeforeUnmount as m,getCurrentInstance as y,ref as g,reactive as b,nextTick as O,warn as j,watchEffect as V,inject as w,toRef as F,resolveDynamicComponent as A,h as S,shallowRef as E}from"vue";function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new A(a||[]);return r(o,"_invoke",{value:j(e,n,l)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function f(){}function v(){}function p(){}var h={};u(h,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&n.call(y,i)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function a(r,i,o,l){var u=c(e[r],e,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,o,l)}),(function(e){a("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return a("throw",e,o,l)}))}l(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=V(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function V(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,V(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return v.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:v,configurable:!0}),v.displayName=u(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(O.prototype),u(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new O(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),u(g,l,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;F(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,l,"next",e)}function l(e){I(i,r,a,o,l,"throw",e)}o(void 0)}))}}function B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function e(t,n){var r=Object.assign({},{title:n},x({},t));if("object"===t.type){var a={};try{t.properties?(Object.keys(t.properties).forEach((function(n){var r=function(e){return(e=e.charAt(0).toUpperCase()+e.slice(1)).replace(/([a-z0-9])([A-Z])/g,"$1 $2")}(n);a=Object.assign({},x({},a),B({},"".concat(n),x({},e(t.properties[n],r))))})),r=Object.assign({},x({},r),{properties:x({},a)})):t.additionalProperties&&((r=Object.assign({},x({},r),{type:"key-value-pairs"})).additionalProperties=Object.assign({},x({},t.additionalProperties),x({},e(t.additionalProperties,"Value"))))}catch(e){}}else if("array"===t.type){var i={};i=Object.assign({},x({},i),x({},e(t.items,""))),r=Object.assign({},x({},r),{items:x({},i)})}else{var o="";o="number"===t.type||"integer"===t.type?"number":"boolean"===t.type?"checkbox":"text",r=Object.assign({},x({},r),{ui:{tag:"input",type:o}})}return r};function U(e,t){return T(e,t)}var $=e({components:{VForm:t((function(){return Promise.resolve().then((function(){return st})).then((function(e){return e.Form}))})),VField:t((function(){return Promise.resolve().then((function(){return st})).then((function(e){return e.Field}))})),ComponentErrors:t((function(){return import("./ComponentErrors-d495bc96.js").then((function(e){return e.default}))})),RightWrongSigns:t((function(){return import("./RightWrongSigns-e0964dee.js").then((function(e){return e.default}))}))},props:{isSelfRequired:{type:Boolean,default:!1}},methods:{ruleString:function(e){var t="";return e&&(t+="required"),t},ruleArray:function(e){var t={};return e&&(t.required=!0),t},ruleObject:function(e){var t={};return e&&(t.requiredOb=!0),t},calcFormErrors:function(e,t){return Object.keys(e).filter((function(e){return e.startsWith(t)})).map((function(n){var r=n.replace(/^(\$\/)/,""),a=t.replace(/^(\$\/)/,""),i=r.replace(a+"/",""),o=i.includes("/")?"".concat(i,": "):"";return"".concat(o).concat(e[n])}))}}}),D=e({components:{ObjectFormWrapper:t((function(){return import("./ObjectFormWrapper-0e01b867.js").then((function(e){return e.default}))})),ObjectForm:t((function(){return import("./ObjectForm-16f95fab.js").then((function(e){return e.default}))})),ArrayInput:t((function(){return import("./ArrayInput-818ebbf5.js").then((function(e){return e.default}))})),KeyValuePairs:t((function(){return import("./KeyValuePairs-6a1c2e88.js").then((function(e){return e.default}))})),SimpleInput:t((function(){return import("./SimpleInput-b8872a08.js").then((function(e){return e.default}))}))},props:{type:{type:String,default:"string"},referenceModel:{type:null,default:function(){return{}}}},emits:["update:modelValue"],data:function(){return{modelData:null}},watch:{modelData:{immediate:!0,deep:!0,handler:function(e,t){null!=t&&(this.cleanObject&&this.clean(e),"number"===this.type||"integer"===this.type?""===e?this.$emit("update:modelValue",null):this.$emit("update:modelValue",+e):this.$emit("update:modelValue",e))}},modelValue:{deep:!0,handler:function(e,t){JSON.stringify(t)!==JSON.stringify(e)&&this.initModelData()}}},created:function(){this.initModelData()},methods:{initModelData:function(){this.modelValue?("object"===this.type||"key-value-pairs"===this.type)&&Object.keys(this.modelValue).length>0||"array"===this.type&&this.modelValue.length>0?this.modelData=JSON.parse(JSON.stringify(this.modelValue)):"boolean"===this.type&&null!==this.modelValue||"string"===this.type||"number"===this.type||"integer"===this.type?this.modelData=this.modelValue:this.modelData=this.initWithBlank():this.modelData=this.initWithBlank()},initWithBlank:function(){return"object"===this.type||"key-value-pairs"===this.type?{}:"array"===this.type?[]:"boolean"!==this.type&&("number"===this.type||"integer"===this.type?null:"")},clean:function(e){if("object"===this.type||"key-value-pairs"===this.type)Object.keys(e).forEach((function(t){var n="";void 0!==(n="string"!=typeof e[t]?JSON.stringify(e[t]):e[t])&&"null"!==n&&""!==n&&"{}"!==n&&"[]"!==n||delete e[t]}));else if("array"===this.type){e.map((function(e,t){return{item:e,idx:t}})).filter((function(e){var t=e.item,n="";return void 0===(n="string"!=typeof t?JSON.stringify(t):t)||"null"===n||""===n||"{}"===n||"[]"===n})).map((function(e){return e.idx})).forEach((function(t){return e.splice(t,1)}))}}}}),L=e({name:"VueOpenapiForm",components:{AcForm:t((function(){return import("./Form-4bba8e59.js")})),FormFooterControl:t((function(){return import("./FormFooterControl-eec1f0a9.js")}))},mixins:[D,$],provide:function(){var e=this,t={};return Object.defineProperty(t,"theme",{enumerable:!0,get:function(){return e.themeMode}}),{providedData:t}},props:{schema:{type:Object,default:function(){return{}}},modelValue:{type:Object,default:function(){return{}}},formTitle:{type:String,default:""},onlyJson:{type:Boolean,default:!1},size:{type:String,default:"small"},themeMode:{type:String,default:"light"}},computed:{extendedSchema:function(){return U(this.schema,this.formTitle)}}});
/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */
function R(e){return"function"==typeof e}function z(e){return null==e}L.render=function(e,t,c,d,f,v){var p=n("object-form-wrapper"),h=n("v-field"),m=n("form-footer-control"),y=n("ac-form"),g=n("v-form");return r(),a(g,{ref:"v-form",as:""},{default:i((function(n){var r=n.meta,a=n.validate,c=n.errors;return[o(y,null,{"form-left-controls":i((function(){return[o(m,null,{default:i((function(){return[l(e.$slots,"left-controls",{validate:a,formStatus:r,errors:c})]})),_:2},1024)]})),"form-right-controls":i((function(){return[o(m,null,{default:i((function(){return[l(e.$slots,"right-controls",{validate:a,formStatus:r,errors:c})]})),_:2},1024)]})),default:i((function(){return[u("div",{class:s(["vue-openapi-form pl-20",{"is-medium":"medium"===e.size}])},[o(h,{modelValue:e.modelData,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.modelData=t}),name:e.extendedSchema.title,label:e.extendedSchema.title,rules:e.ruleObject(!0),as:""},{default:i((function(t){var n=t.field,r=t.handleChange;return[o(p,{"field-name":"$","model-value":n.value,"expand-form":!0,"is-root":!0,level:1,"is-self-required":!0,"only-json":e.onlyJson,schema:e.extendedSchema,"reference-model":e.referenceModel||{},errors:c,"onUpdate:modelValue":r},null,8,["model-value","only-json","schema","reference-model","errors","onUpdate:modelValue"])]})),_:2},1032,["modelValue","name","label","rules"])],2)]})),_:2},1024)]})),_:3},512)};const q=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e);function W(e){return Number(e)>=0}function G(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function J(e,t){return Object.keys(t).forEach((n=>{if(G(t[n]))return e[n]||(e[n]={}),void J(e[n],t[n]);e[n]=t[n]})),e}const K={};function Z(e,t){!function(e,t){if(R(t))return;throw new Error(`Extension Error: The validator '${e}' must be a function.`)}(e,t),K[e]=t}const Y=Symbol("vee-validate-form"),X=Symbol("vee-validate-field-instance"),H=Symbol("Default empty value"),Q="undefined"!=typeof window;function ee(e){return R(e)&&!!e.__locatorRef}function te(e){return!!e&&R(e.parse)&&"VVTypedSchema"===e.__type}function ne(e){return!!e&&R(e.validate)}function re(e){return"checkbox"===e||"radio"===e}function ae(e){return/^\[.+\]$/i.test(e)}function ie(e){return"SELECT"===e.tagName}function oe(e,t){return!function(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&n}(e,t)&&"file"!==t.type&&!re(t.type)}function le(e){return ue(e)&&e.target&&"submit"in e.target}function ue(e){return!!e&&(!!("undefined"!=typeof Event&&R(Event)&&e instanceof Event)||!(!e||!e.srcElement))}function se(e,t){return t in e&&e[t]!==H}function ce(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!ce(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!ce(r[1],t.get(r[0])))return!1;return!0}if(de(e)&&de(t))return e.size===t.size&&(e.name===t.name&&(e.lastModified===t.lastModified&&e.type===t.type));if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!=r--;){var i=a[r];if(!ce(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function de(e){return!!Q&&e instanceof File}function fe(e,t,n){"object"==typeof n.value&&(n.value=ve(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function ve(e){if("object"!=typeof e)return e;var t,n,r,a=0,i=Object.prototype.toString.call(e);if("[object Object]"===i?r=Object.create(e.__proto__||null):"[object Array]"===i?r=Array(e.length):"[object Set]"===i?(r=new Set,e.forEach((function(e){r.add(ve(e))}))):"[object Map]"===i?(r=new Map,e.forEach((function(e,t){r.set(ve(t),ve(e))}))):"[object Date]"===i?r=new Date(+e):"[object RegExp]"===i?r=new RegExp(e.source,e.flags):"[object DataView]"===i?r=new e.constructor(ve(e.buffer)):"[object ArrayBuffer]"===i?r=e.slice(0):"Array]"===i.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)fe(r,n[a],Object.getOwnPropertyDescriptor(e,n[a]));for(a=0,n=Object.getOwnPropertyNames(e);a<n.length;a++)Object.hasOwnProperty.call(r,t=n[a])&&r[t]===e[t]||fe(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}function pe(e){return ae(e)?e.replace(/\[|\]/gi,""):e}function he(e,t,n){if(!e)return n;if(ae(t))return e[pe(t)];return(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{return(q(r=e)||Array.isArray(r))&&t in e?e[t]:n;var r}),e)}function me(e,t,n){if(ae(t))return void(e[pe(t)]=n);const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let e=0;e<r.length;e++){if(e===r.length-1)return void(a[r[e]]=n);r[e]in a&&!z(a[r[e]])||(a[r[e]]=W(r[e+1])?[]:{}),a=a[r[e]]}}function ye(e,t){Array.isArray(e)&&W(t)?e.splice(Number(t),1):q(e)&&delete e[t]}function ge(e,t){if(ae(t))return void delete e[pe(t)];const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let e=0;e<n.length;e++){if(e===n.length-1){ye(r,n[e]);break}if(!(n[e]in r)||z(r[n[e]]))break;r=r[n[e]]}const a=n.map(((t,r)=>he(e,n.slice(0,r).join("."))));for(let t=a.length-1;t>=0;t--)i=a[t],(Array.isArray(i)?0===i.length:q(i)&&0===Object.keys(i).length)&&(0!==t?ye(a[t-1],n[t-1]):ye(e,n[0]));var i}function be(e){return Object.keys(e)}function Oe(e,t=void 0){const n=y();return(null==n?void 0:n.provides[e])||w(e,t)}function je(e){j(`[vee-validate]: ${e}`)}function Ve(e,t,n){if(Array.isArray(e)){const n=[...e],r=n.findIndex((e=>ce(e,t)));return r>=0?n.splice(r,1):n.push(t),n}return ce(e,t)?n:t}function we(e,t=0){let n=null,r=[];return function(...a){return n&&window.clearTimeout(n),n=window.setTimeout((()=>{const t=e(...a);r.forEach((e=>e(t))),r=[]}),t),new Promise((e=>r.push(e)))}}function Fe(e,t){return q(t)&&t.number?function(e){const t=parseFloat(e);return isNaN(t)?e:t}(e):e}function Ae(e,t){let n;return async function(...r){const a=e(...r);n=a;const i=await a;return a!==n||(n=void 0,t(i,r)),i}}function Se({get:e,set:t}){const n=g(ve(e()));return h(e,(e=>{ce(e,n.value)||(n.value=ve(e))}),{deep:!0}),h(n,(n=>{ce(n,e())||t(ve(n))}),{deep:!0}),n}function Ee(e){return R(e)?e():d(e)}function ke(e){return Array.isArray(e)?e:e?[e]:[]}function xe(e){const t=Oe(Y),n=e?c((()=>null==t?void 0:t.getPathState(d(e)))):void 0,r=e?void 0:w(X);return r||(null==n?void 0:n.value)||je(`field with name ${d(e)} was not found`),n||r}function _e(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}const Pe=(e,t,n)=>t.slots.default?"string"!=typeof e&&e?{default:()=>{var e,r;return null===(r=(e=t.slots).default)||void 0===r?void 0:r.call(e,n())}}:t.slots.default(n()):t.slots.default;function Ie(e){if(Me(e))return e._value}function Me(e){return"_value"in e}function Be(e){if(!ue(e))return e;const t=e.target;if(re(t.type)&&Me(t))return Ie(t);if("file"===t.type&&t.files){const e=Array.from(t.files);return t.multiple?e:e[0]}if(ie(n=t)&&n.multiple)return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(Ie);var n;if(ie(t)){const e=Array.from(t.options).find((e=>e.selected));return e?Ie(e):t.value}return t.value}function Ce(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?q(e)&&e._$$isNormalized?e:q(e)?Object.keys(e).reduce(((t,n)=>{const r=function(e){if(!0===e)return[];if(Array.isArray(e))return e;if(q(e))return e;return[e]}(e[n]);return!1!==e[n]&&(t[n]=Ne(r)),t}),t):"string"!=typeof e?t:e.split("|").reduce(((e,t)=>{const n=Te(t);return n.name?(e[n.name]=Ne(n.params),e):e}),t):t}function Ne(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>he(t,e)||t[e];return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{})}const Te=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};let Ue=Object.assign({},{generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const $e=()=>Ue,De=e=>{Ue=Object.assign(Object.assign({},Ue),e)};async function Le(e,t,n={}){const r=null==n?void 0:n.bails,a={name:(null==n?void 0:n.name)||"{field}",rules:t,label:null==n?void 0:n.label,bails:null==r||r,formData:(null==n?void 0:n.values)||{}},i=await async function(e,t){if(te(e.rules)||ne(e.rules))return async function(e,t){const n=te(t)?t:Re(t),r=await n.parse(e),a=[];for(const e of r.errors)e.errors.length&&a.push(...e.errors);return{errors:a}}(t,e.rules);if(R(e.rules)||Array.isArray(e.rules)){const n={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},r=Array.isArray(e.rules)?e.rules:[e.rules],a=r.length,i=[];for(let o=0;o<a;o++){const a=r[o],l=await a(t,n);if("string"!=typeof l&&l)continue;const u="string"==typeof l?l:qe(n);if(i.push(u),e.bails)return{errors:i}}return{errors:i}}const n=Object.assign(Object.assign({},e),{rules:Ce(e.rules)}),r=[],a=Object.keys(n.rules),i=a.length;for(let o=0;o<i;o++){const i=a[o],l=await ze(n,t,{name:i,params:n.rules[i]});if(l.error&&(r.push(l.error),e.bails))return{errors:r}}return{errors:r}}(a,e),o=i.errors;return{errors:o,valid:!o.length}}function Re(e){return{__type:"VVTypedSchema",async parse(t){var n;try{return{output:await e.validate(t,{abortEarly:!1}),errors:[]}}catch(e){if(!function(e){return!!e&&"ValidationError"===e.name}(e))throw e;if(!(null===(n=e.inner)||void 0===n?void 0:n.length)&&e.errors.length)return{errors:[{path:e.path,errors:e.errors}]};const t=e.inner.reduce(((e,t)=>{const n=t.path||"";return e[n]||(e[n]={errors:[],path:n}),e[n].errors.push(...t.errors),e}),{});return{errors:Object.values(t)}}}}}async function ze(e,t,n){const r=(a=n.name,K[a]);var a;if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=function(e,t){const n=e=>ee(e)?e(t):e;if(Array.isArray(e))return e.map(n);return Object.keys(e).reduce(((t,r)=>(t[r]=n(e[r]),t)),{})}(n.params,e.formData),o={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},l=await r(t,i,o);return"string"==typeof l?{error:l}:{error:l?void 0:qe(o)}}function qe(e){const t=$e().generateMessage;return t?t(e):"Field is invalid"}async function We(e,t,n){const r=be(e).map((async r=>{var a,i,o;const l=null===(a=null==n?void 0:n.names)||void 0===a?void 0:a[r],u=await Le(he(t,r),e[r],{name:(null==l?void 0:l.name)||r,label:null==l?void 0:l.label,values:t,bails:null===(o=null===(i=null==n?void 0:n.bailsMap)||void 0===i?void 0:i[r])||void 0===o||o});return Object.assign(Object.assign({},u),{path:r})}));let a=!0;const i=await Promise.all(r),o={},l={};for(const e of i)o[e.path]={valid:e.valid,errors:e.errors},e.valid||(a=!1,l[e.path]=e.errors[0]);return{valid:a,results:o,errors:l}}let Ge=0;function Je(e,t){const{value:n,initialValue:r,setInitialValue:a}=function(e,t,n){const r=g(d(t));function a(){return n?he(n.initialValues.value,d(e),d(r)):d(r)}function i(t){n?n.stageInitialValue(d(e),t,!0):r.value=t}const o=c(a);if(!n){return{value:g(a()),initialValue:o,setInitialValue:i}}const l=function(e,t,n,r){if(p(e))return d(e);if(void 0!==e)return e;return he(t.values,d(r),d(n))}(t,n,o,e);n.stageInitialValue(d(e),l,!0);const u=c({get:()=>he(n.values,d(e)),set(t){n.setFieldValue(d(e),t)}});return{value:u,initialValue:o,setInitialValue:i}}(e,t.modelValue,t.form);if(!t.form){const{errors:u,setErrors:s}=function(){const e=g([]);return{errors:e,setErrors:t=>{e.value=ke(t)}}}(),f=Ge>=Number.MAX_SAFE_INTEGER?0:++Ge,v=function(e,t,n){const r=b({touched:!1,pending:!1,valid:!0,validated:!!d(n).length,initialValue:c((()=>d(t))),dirty:c((()=>!ce(d(e),d(t))))});return h(n,(e=>{r.valid=!e.length}),{immediate:!0,flush:"sync"}),r}(n,r,u);function i(e){var t;"value"in e&&(n.value=e.value),"errors"in e&&s(e.errors),"touched"in e&&(v.touched=null!==(t=e.touched)&&void 0!==t?t:v.touched),"initialValue"in e&&a(e.initialValue)}return{id:f,path:e,value:n,initialValue:r,meta:v,flags:{pendingUnmount:{[f]:!1}},errors:u,setState:i}}const o=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),l=c((()=>o.errors));function i(r){var i,o,l;"value"in r&&(n.value=r.value),"errors"in r&&(null===(i=t.form)||void 0===i||i.setFieldError(d(e),r.errors)),"touched"in r&&(null===(o=t.form)||void 0===o||o.setFieldTouched(d(e),null!==(l=r.touched)&&void 0!==l&&l)),"initialValue"in r&&a(r.initialValue)}return{id:Array.isArray(o.id)?o.id[o.id.length-1]:o.id,path:e,value:n,errors:l,meta:o,initialValue:r,flags:o.__flags,setState:i}}function Ke(e,t,n){return re(null==n?void 0:n.type)?function(e,t,n){const r=(null==n?void 0:n.standalone)?void 0:Oe(Y),a=null==n?void 0:n.checkedValue,i=null==n?void 0:n.uncheckedValue;function o(t){const n=t.handleChange,o=c((()=>{const e=d(t.value),n=d(a);return Array.isArray(e)?e.findIndex((e=>ce(e,n)))>=0:ce(n,e)}));function l(l,u=!0){var s;if(o.value===(null===(s=null==l?void 0:l.target)||void 0===s?void 0:s.checked))return void(u&&t.validate());const c=Ee(e),f=null==r?void 0:r.getPathState(c),v=Be(l);let p;p=r&&(null==f?void 0:f.multiple)&&"checkbox"===f.type?Ve(he(r.values,c)||[],v,void 0):Ve(d(t.value),d(a),d(i)),n(p,u)}return Object.assign(Object.assign({},t),{checked:o,checkedValue:a,uncheckedValue:i,handleChange:l})}return o(Ze(e,t,n))}(e,t,n):Ze(e,t,n)}function Ze(e,t,n){const{initialValue:r,validateOnMount:a,bails:i,type:o,checkedValue:l,label:u,validateOnValueUpdate:s,uncheckedValue:g,controlled:b,keepValueOnUnmount:O,modelPropName:j,syncVModel:V,form:w}=function(e){var t;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),r=null===(t=null==e?void 0:e.syncVModel)||void 0===t||t,a=r&&!("initialValue"in(e||{}))?Ye(y(),(null==e?void 0:e.modelPropName)||"modelValue"):null==e?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},n()),{initialValue:a});const i="valueProp"in e?e.valueProp:e.checkedValue,o="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{initialValue:a,controlled:null==o||o,checkedValue:i})}(n),F=b?Oe(Y):void 0,A=w||F,S=function(e){return c((()=>Ee(e)))}(e),E=c((()=>{if(d(null==A?void 0:A.schema))return;const e=d(t);return ne(e)||te(e)||R(e)||Array.isArray(e)?e:Ce(e)})),{id:k,value:x,initialValue:_,meta:P,setState:I,errors:M,flags:B}=Je(S,{modelValue:r,form:A,bails:i,label:u,type:o,validate:E.value?$:void 0}),C=c((()=>M.value[0]));V&&function({prop:e,value:t,handleChange:n}){const r=y();if(!r)return;const a=e||"modelValue",i=`update:${a}`;if(!(a in r.props))return;h(t,(e=>{ce(e,Ye(r,a))||r.emit(i,e)})),h((()=>Ye(r,a)),(e=>{if(e===H&&void 0===t.value)return;const a=e===H?void 0:e;ce(a,Fe(t.value,r.props.modelModifiers))||n(a)}))}({value:x,prop:j,handleChange:D});async function N(e){var t,n;return(null==A?void 0:A.validateSchema)?null!==(t=(await A.validateSchema(e)).results[d(S)])&&void 0!==t?t:{valid:!0,errors:[]}:E.value?Le(x.value,E.value,{name:d(S),label:d(u),values:null!==(n=null==A?void 0:A.values)&&void 0!==n?n:{},bails:i}):{valid:!0,errors:[]}}const T=Ae((async()=>(P.pending=!0,P.validated=!0,N("validated-only"))),(e=>{if(!B.pendingUnmount[W.id])return I({errors:e.errors}),P.pending=!1,P.valid=e.valid,e})),U=Ae((async()=>N("silent")),(e=>(P.valid=e.valid,e)));function $(e){return"silent"===(null==e?void 0:e.mode)?U():T()}function D(e,t=!0){z(Be(e),t)}function L(e){var t;const n=e&&"value"in e?e.value:_.value;I({value:ve(n),initialValue:ve(n),touched:null!==(t=null==e?void 0:e.touched)&&void 0!==t&&t,errors:(null==e?void 0:e.errors)||[]}),P.pending=!1,P.validated=!1,U()}function z(e,t=!0){if(x.value=e,!t)return void U();(t?T:U)()}f((()=>{if(a)return T();A&&A.validateSchema||U()}));const q=c({get:()=>x.value,set(e){z(e,s)}}),W={id:k,name:S,label:u,value:q,meta:P,errors:M,errorMessage:C,type:o,checkedValue:l,uncheckedValue:g,bails:i,keepValueOnUnmount:O,resetField:L,handleReset:()=>L(),validate:$,handleChange:D,handleBlur:()=>{P.touched=!0},setState:I,setTouched:function(e){P.touched=e},setErrors:function(e){I({errors:Array.isArray(e)?e:[e]})},setValue:z};if(v(X,W),p(t)&&"function"!=typeof d(t)&&h(t,((e,t)=>{ce(e,t)||(P.validated?T():U())}),{deep:!0}),!A)return W;const G=c((()=>{const e=E.value;return!e||R(e)||ne(e)||te(e)||Array.isArray(e)?{}:Object.keys(e).reduce(((t,n)=>{const r=(a=e[n],Array.isArray(a)?a.filter(ee):be(a).filter((e=>ee(a[e]))).map((e=>a[e]))).map((e=>e.__locatorRef)).reduce(((e,t)=>{const n=he(A.values,t)||A.values[t];return void 0!==n&&(e[t]=n),e}),{});var a;return Object.assign(t,r),t}),{})}));return h(G,((e,t)=>{if(!Object.keys(e).length)return;!ce(e,t)&&(P.validated?T():U())})),m((()=>{var e;const t=null!==(e=d(W.keepValueOnUnmount))&&void 0!==e?e:d(A.keepValuesOnUnmount),n=Ee(S);if(t||!A||B.pendingUnmount[W.id])return void(null==A||A.removePathState(n,k));B.pendingUnmount[W.id]=!0;const r=A.getPathState(n);if(Array.isArray(null==r?void 0:r.id)&&(null==r?void 0:r.multiple)?null==r?void 0:r.id.includes(W.id):(null==r?void 0:r.id)===W.id){if((null==r?void 0:r.multiple)&&Array.isArray(r.value)){const e=r.value.findIndex((e=>ce(e,d(W.checkedValue))));if(e>-1){const t=[...r.value];t.splice(e,1),A.setFieldValue(n,t)}Array.isArray(r.id)&&r.id.splice(r.id.indexOf(W.id),1)}else A.unsetPathValue(Ee(S));A.removePathState(n,k)}})),W}function Ye(e,t){if(e)return e.props[t]}function Xe(e,t){let n=e.as||"";return e.as||t.slots.default||(n="input"),n}function He(e,t){return re(t.attrs.type)?se(e,"modelValue")?e.modelValue:void 0:se(e,"modelValue")?e.modelValue:t.attrs.value}const Qe=e({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>$e().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:H},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=F(e,"rules"),r=F(e,"name"),a=F(e,"label"),i=F(e,"uncheckedValue"),o=F(e,"keepValue"),{errors:l,value:u,errorMessage:s,validate:d,handleChange:f,handleBlur:v,setTouched:p,resetField:h,handleReset:m,meta:y,checked:g,setErrors:b}=Ke(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:He(e,t),checkedValue:t.attrs.value,uncheckedValue:i,label:a,validateOnValueUpdate:!1,keepValueOnUnmount:o}),O=function(e,n=!0){f(e,n),t.emit("update:modelValue",u.value)},j=c((()=>{const{validateOnInput:n,validateOnChange:r,validateOnBlur:a,validateOnModelUpdate:i}=function(e){var t,n,r,a;const{validateOnInput:i,validateOnChange:o,validateOnBlur:l,validateOnModelUpdate:u}=$e();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:i,validateOnChange:null!==(n=e.validateOnChange)&&void 0!==n?n:o,validateOnBlur:null!==(r=e.validateOnBlur)&&void 0!==r?r:l,validateOnModelUpdate:null!==(a=e.validateOnModelUpdate)&&void 0!==a?a:u}}(e);const o={name:e.name,onBlur:function(e){v(e),R(t.attrs.onBlur)&&t.attrs.onBlur(e),a&&d()},onInput:function(e){O(e,n),R(t.attrs.onInput)&&t.attrs.onInput(e)},onChange:function(e){O(e,r),R(t.attrs.onChange)&&t.attrs.onChange(e)},"onUpdate:modelValue":e=>O(e,i)};return o})),V=c((()=>{const n=Object.assign({},j.value);re(t.attrs.type)&&g&&(n.checked=g.value);return oe(Xe(e,t),t.attrs)&&(n.value=u.value),n})),w=c((()=>Object.assign(Object.assign({},j.value),{modelValue:u.value})));function E(){return{field:V.value,componentField:w.value,value:u.value,meta:y,errors:l.value,errorMessage:s.value,validate:d,resetField:h,handleChange:O,handleInput:e=>O(e,!1),handleReset:m,handleBlur:j.value.onBlur,setTouched:p,setErrors:b}}return t.expose({setErrors:b,setTouched:p,reset:h,validate:d,handleChange:f}),()=>{const n=A(Xe(e,t)),r=Pe(n,t,E);return n?S(n,Object.assign(Object.assign({},t.attrs),V.value),r):r}}});let et=0;const tt=["bails","fieldsCount","id","multiple","type","validate"];function nt(e){const t=d(null==e?void 0:e.initialValues)||{},n=d(null==e?void 0:e.validationSchema);return n&&te(n)&&R(n.cast)?ve(n.cast(t)||{}):ve(t)}function rt(e){var t;const n=et++;let r=0;const a=g(!1),i=g(!1),o=g(0),l=[],u=b(nt(e)),s=g([]),m=g({});function y(e,t){const n=z(e);n?(n.errors=ke(t),n.valid=!n.errors.length):"string"==typeof e&&(m.value[e]=ke(t))}function w(e){be(e).forEach((t=>{y(t,e[t])}))}(null==e?void 0:e.initialErrors)&&w(e.initialErrors);const F=c((()=>{const e=s.value.reduce(((e,t)=>(t.errors.length&&(e[t.path]=t.errors),e)),{});return Object.assign(Object.assign({},m.value),e)})),A=c((()=>be(F.value).reduce(((e,t)=>{const n=F.value[t];return(null==n?void 0:n.length)&&(e[t]=n[0]),e}),{}))),S=c((()=>s.value.reduce(((e,t)=>(e[t.path]={name:t.path||"",label:t.label||""},e)),{}))),k=c((()=>s.value.reduce(((e,t)=>{var n;return e[t.path]=null===(n=t.bails)||void 0===n||n,e}),{}))),x=Object.assign({},(null==e?void 0:e.initialErrors)||{}),_=null!==(t=null==e?void 0:e.keepValuesOnUnmount)&&void 0!==t&&t,{initialValues:P,originalInitialValues:I,setInitialValues:M}=function(e,t,n){const r=nt(n),a=null==n?void 0:n.initialValues,i=g(r),o=g(ve(r));function l(n,r=!1){i.value=ve(n),o.value=ve(n),r&&e.value.forEach((e=>{if(e.touched)return;const n=he(i.value,e.path);me(t,e.path,ve(n))}))}p(a)&&h(a,(e=>{e&&l(e,!0)}),{deep:!0});return{initialValues:i,originalInitialValues:o,setInitialValues:l}}(s,u,e),B=function(e,t,n,r){const a={touched:"some",pending:"some",valid:"every"},i=c((()=>!ce(t,d(n))));function o(){const t=e.value;return be(a).reduce(((e,n)=>{const r=a[n];return e[n]=t[r]((e=>e[n])),e}),{})}const l=b(o());return V((()=>{const e=o();l.touched=e.touched,l.valid=e.valid,l.pending=e.pending})),c((()=>Object.assign(Object.assign({initialValues:d(n)},l),{valid:l.valid&&!be(r.value).length,dirty:i.value})))}(s,u,I,A),C=c((()=>s.value.reduce(((e,t)=>{const n=he(u,t.path);return me(e,t.path,n),e}),{}))),N=null==e?void 0:e.validationSchema;function T(e,t){var n,a;const i=c((()=>he(P.value,Ee(e)))),o=s.value.find((t=>t.path===d(e)));if(o){"checkbox"!==(null==t?void 0:t.type)&&"radio"!==(null==t?void 0:t.type)||(o.multiple=!0);const e=r++;return Array.isArray(o.id)?o.id.push(e):o.id=[o.id,e],o.fieldsCount++,o.__flags.pendingUnmount[e]=!1,o}const l=c((()=>he(u,Ee(e)))),f=Ee(e),v=r++,m=b({id:v,path:e,touched:!1,pending:!1,valid:!0,validated:!!(null===(n=x[f])||void 0===n?void 0:n.length),initialValue:i,errors:E([]),bails:null!==(a=null==t?void 0:t.bails)&&void 0!==a&&a,label:null==t?void 0:t.label,type:(null==t?void 0:t.type)||"default",value:l,multiple:!1,__flags:{pendingUnmount:{[v]:!1}},fieldsCount:1,validate:null==t?void 0:t.validate,dirty:c((()=>!ce(d(l),d(i))))});return s.value.push(m),A.value[f]&&!x[f]&&O((()=>{ue(f)})),p(e)&&h(e,(e=>{const t=ve(l.value);O((()=>{me(u,e,t)}))})),m}const U=we(fe,5),$=we(fe,5),D=Ae((async e=>"silent"===await e?U():$()),((e,[t])=>{const n=be(Z.errorBag.value);return[...new Set([...be(e.results),...s.value.map((e=>e.path)),...n])].sort().reduce(((n,r)=>{const a=r,i=z(a)||function(e){const t=s.value.filter((t=>e.startsWith(t.path)));return t.reduce(((e,t)=>e?t.path.length>e.path.length?t:e:t),void 0)}(a),o=(e.results[a]||{errors:[]}).errors,l={errors:o,valid:!o.length};return n.results[a]=l,l.valid||(n.errors[a]=l.errors[0]),i&&m.value[a]&&delete m.value[a],i?(i.valid=l.valid,"silent"===t?n:"validated-only"!==t||i.validated?(y(i,l.errors),n):n):(y(a,o),n)}),{valid:e.valid,results:{},errors:{}})}));function L(e){s.value.forEach(e)}function z(e){return"string"==typeof e?s.value.find((t=>t.path===e)):e}let q,W=[];function G(e){return function(t,n){return function(r){return r instanceof Event&&(r.preventDefault(),r.stopPropagation()),L((e=>e.touched=!0)),a.value=!0,o.value++,oe().then((a=>{const i=ve(u);if(a.valid&&"function"==typeof t){const n=ve(C.value);let o=e?n:i;return a.values&&(o=a.values),t(o,{evt:r,controlledValues:n,setErrors:w,setFieldError:y,setTouched:re,setFieldTouched:ee,setValues:H,setFieldValue:X,resetForm:ie,resetField:ae})}a.valid||"function"!=typeof n||n({values:i,evt:r,errors:a.errors,results:a.results})})).then((e=>(a.value=!1,e)),(e=>{throw a.value=!1,e}))}}}const K=G(!1);K.withControlled=G(!0);const Z={formId:n,values:u,controlledValues:C,errorBag:F,errors:A,schema:N,submitCount:o,meta:B,isSubmitting:a,isValidating:i,fieldArrays:l,keepValuesOnUnmount:_,validateSchema:d(N)?D:void 0,validate:oe,setFieldError:y,validateField:ue,setFieldValue:X,setValues:H,setErrors:w,setFieldTouched:ee,setTouched:re,resetForm:ie,resetField:ae,handleSubmit:K,stageInitialValue:function(t,n,r=!1){de(t,n),me(u,t,n),r&&!(null==e?void 0:e.initialValues)&&me(I.value,t,ve(n))},unsetInitialValue:se,setFieldInitialValue:de,useFieldModel:function(e){if(!Array.isArray(e))return Q(e);return e.map(Q)},createPathState:T,getPathState:z,unsetPathValue:function(e){return W.push(e),q||(q=O((()=>{[...W].sort().reverse().forEach((e=>{ge(u,e)})),W=[],q=null}))),q},removePathState:function(e,t){const n=s.value.findIndex((t=>t.path===e)),r=s.value[n];if(-1!==n&&r){if(r.multiple&&r.fieldsCount&&r.fieldsCount--,Array.isArray(r.id)){const e=r.id.indexOf(t);e>=0&&r.id.splice(e,1),delete r.__flags.pendingUnmount[t]}(!r.multiple||r.fieldsCount<=0)&&(s.value.splice(n,1),se(e))}},initialValues:P,getAllPathStates:()=>s.value,markForUnmount:function(e){return L((t=>{t.path.startsWith(e)&&be(t.__flags.pendingUnmount).forEach((e=>{t.__flags.pendingUnmount[e]=!0}))}))}};function X(e,t){const n=ve(t),r="string"==typeof e?e:e.path;z(r)||T(r),me(u,r,n)}function H(e){J(u,e),l.forEach((e=>e&&e.reset()))}function Q(e){const t=z(d(e))||T(e);return c({get:()=>t.value,set(n){const r=d(e);X(r,n),t.validated=!0,t.pending=!0,ue(r).then((()=>{t.pending=!1}))}})}function ee(e,t){const n=z(e);n&&(n.touched=t)}function re(e){be(e).forEach((t=>{ee(t,!!e[t])}))}function ae(e,t){var n;const r=t&&"value"in t?t.value:he(P.value,e);de(e,ve(r)),X(e,r),ee(e,null!==(n=null==t?void 0:t.touched)&&void 0!==n&&n),y(e,(null==t?void 0:t.errors)||[])}function ie(e){const t=(null==e?void 0:e.values)?e.values:I.value;M(t),H(t),L((n=>{var r;n.validated=!1,n.touched=(null===(r=null==e?void 0:e.touched)||void 0===r?void 0:r[n.path])||!1,X(n.path,he(t,n.path)),y(n.path,void 0)})),w((null==e?void 0:e.errors)||{}),o.value=(null==e?void 0:e.submitCount)||0,O((()=>{oe({mode:"silent"})}))}async function oe(e){const t=(null==e?void 0:e.mode)||"force";if("force"===t&&L((e=>e.validated=!0)),Z.validateSchema)return Z.validateSchema(t);i.value=!0;const n=await Promise.all(s.value.map((t=>t.validate?t.validate(e).then((e=>({key:t.path,valid:e.valid,errors:e.errors}))):Promise.resolve({key:t.path,valid:!0,errors:[]}))));i.value=!1;const r={},a={};for(const e of n)r[e.key]={valid:e.valid,errors:e.errors},e.errors.length&&(a[e.key]=e.errors[0]);return{valid:n.every((e=>e.valid)),results:r,errors:a}}async function ue(e){const t=z(e);if(t&&(t.validated=!0),N){const{results:t}=await D("validated-only");return t[e]||{errors:[],valid:!0}}return(null==t?void 0:t.validate)?t.validate():(t||j(`field with path ${e} was not found`),Promise.resolve({errors:[],valid:!0}))}function se(e){ge(P.value,e)}function de(e,t){me(P.value,e,ve(t))}async function fe(){const e=d(N);if(!e)return{valid:!0,results:{},errors:{}};i.value=!0;const t=ne(e)||te(e)?await async function(e,t){const n=te(e)?e:Re(e),r=await n.parse(t),a={},i={};for(const e of r.errors){const t=e.errors,n=(e.path||"").replace(/\["(\d+)"\]/g,((e,t)=>`[${t}]`));a[n]={valid:!t.length,errors:t},t.length&&(i[n]=t[0])}return{valid:!r.errors.length,results:a,errors:i,values:r.value}}(e,u):await We(e,u,{names:S.value,bailsMap:k.value});return i.value=!1,t}const pe=K(((e,{evt:t})=>{le(t)&&t.target.submit()}));return f((()=>{(null==e?void 0:e.initialErrors)&&w(e.initialErrors),(null==e?void 0:e.initialTouched)&&re(e.initialTouched),(null==e?void 0:e.validateOnMount)?oe():Z.validateSchema&&Z.validateSchema("silent")})),p(N)&&h(N,(()=>{var e;null===(e=Z.validateSchema)||void 0===e||e.call(Z,"validated-only")})),v(Y,Z),Object.assign(Object.assign({},Z),{handleReset:()=>ie(),submitForm:pe,defineComponentBinds:function(e,t){const n=z(Ee(e))||T(e),r=()=>R(t)?t(_e(n,tt)):t||{};function a(){var e;n.touched=!0;(null!==(e=r().validateOnBlur)&&void 0!==e?e:$e().validateOnBlur)&&ue(n.path)}function i(e){var t;X(n.path,e);(null!==(t=r().validateOnModelUpdate)&&void 0!==t?t:$e().validateOnModelUpdate)&&ue(n.path)}return c((()=>{const e={modelValue:n.value,"onUpdate:modelValue":i,onBlur:a};return R(t)?Object.assign(Object.assign({},e),t(n).props||{}):(null==t?void 0:t.mapProps)?Object.assign(Object.assign({},e),t.mapProps(_e(n,tt))):e}))},defineInputBinds:function(e,t){const n=z(Ee(e))||T(e),r=()=>R(t)?t(_e(n,tt)):t||{};function a(){var e;n.touched=!0;(null!==(e=r().validateOnBlur)&&void 0!==e?e:$e().validateOnBlur)&&ue(n.path)}function i(e){var t;const a=Be(e);X(n.path,a);(null!==(t=r().validateOnInput)&&void 0!==t?t:$e().validateOnInput)&&ue(n.path)}function o(e){var t;const a=Be(e);X(n.path,a);(null!==(t=r().validateOnChange)&&void 0!==t?t:$e().validateOnChange)&&ue(n.path)}return c((()=>{const e={value:n.value,onChange:o,onInput:i,onBlur:a};return R(t)?Object.assign(Object.assign({},e),t(_e(n,tt)).attrs||{}):(null==t?void 0:t.mapAttrs)?Object.assign(Object.assign({},e),t.mapAttrs(_e(n,tt))):e}))}})}const at=e({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=F(e,"initialValues"),r=F(e,"validationSchema"),a=F(e,"keepValues"),{errors:i,errorBag:o,values:l,meta:u,isSubmitting:s,isValidating:c,submitCount:d,controlledValues:f,validate:v,validateField:p,handleReset:h,resetForm:m,handleSubmit:y,setErrors:g,setFieldError:b,setFieldValue:O,setValues:j,setFieldTouched:V,setTouched:w,resetField:E}=rt({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:a}),k=y(((e,{evt:t})=>{le(t)&&t.target.submit()}),e.onInvalidSubmit),x=e.onSubmit?y(e.onSubmit,e.onInvalidSubmit):k;function _(e){ue(e)&&e.preventDefault(),h(),"function"==typeof t.attrs.onReset&&t.attrs.onReset()}function P(t,n){return y("function"!=typeof t||n?n:t,e.onInvalidSubmit)(t)}function I(){return ve(l)}function M(){return ve(u.value)}function B(){return ve(i.value)}function C(){return{meta:u.value,errors:i.value,errorBag:o.value,values:l,isSubmitting:s.value,isValidating:c.value,submitCount:d.value,controlledValues:f.value,validate:v,validateField:p,handleSubmit:P,handleReset:h,submitForm:k,setErrors:g,setFieldError:b,setFieldValue:O,setValues:j,setFieldTouched:V,setTouched:w,resetForm:m,resetField:E,getValues:I,getMeta:M,getErrors:B}}return t.expose({setFieldError:b,setErrors:g,setFieldValue:O,setValues:j,setFieldTouched:V,setTouched:w,resetForm:m,validate:v,validateField:p,resetField:E,getValues:I,getMeta:M,getErrors:B}),function(){const n="form"===e.as?e.as:A(e.as),r=Pe(n,t,C);if(!e.as)return r;const a="form"===e.as?{novalidate:!0}:{};return S(n,Object.assign(Object.assign(Object.assign({},a),t.attrs),{onSubmit:x,onReset:_}),r)}}}),it=at;function ot(e){const t=Oe(Y,void 0),n=g([]),r=()=>{},a={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t)return je("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),a;if(!d(e))return je("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),a;const i=t.fieldArrays.find((t=>d(t.path)===d(e)));if(i)return i;let o=0;function l(){return he(null==t?void 0:t.values,d(e),[])||[]}function u(){const e=l();Array.isArray(e)&&(n.value=e.map(((e,t)=>c(e,t,n.value))),s())}function s(){const e=n.value.length;for(let t=0;t<e;t++){const r=n.value[t];r.isFirst=0===t,r.isLast=t===e-1}}function c(r,a,i){if(i&&!z(a)&&i[a])return i[a];const l=o++,u={key:l,value:Se({get(){const a=he(null==t?void 0:t.values,d(e),[])||[],i=n.value.findIndex((e=>e.key===l));return-1===i?r:a[i]},set(e){const t=n.value.findIndex((e=>e.key===l));-1!==t?v(t,e):je("Attempting to update a non-existent array item")}}),isFirst:!1,isLast:!1};return u}function f(){s(),null==t||t.validate({mode:"silent"})}function v(n,r){const a=d(e),i=he(null==t?void 0:t.values,a);!Array.isArray(i)||i.length-1<n||(me(t.values,`${a}[${n}]`,r),null==t||t.validate({mode:"validated-only"}))}u();const p={fields:n,remove:function(r){const a=d(e),i=he(null==t?void 0:t.values,a);if(!i||!Array.isArray(i))return;const o=[...i];o.splice(r,1);const l=a+`[${r}]`;t.markForUnmount(l),t.unsetInitialValue(l),me(t.values,a,o),n.value.splice(r,1),f()},push:function(r){const a=d(e),i=he(null==t?void 0:t.values,a),o=z(i)?[]:i;if(!Array.isArray(o))return;const l=[...o];l.push(r),t.stageInitialValue(a+`[${l.length-1}]`,r),me(t.values,a,l),n.value.push(c(r)),f()},swap:function(r,a){const i=d(e),o=he(null==t?void 0:t.values,i);if(!Array.isArray(o)||!(r in o)||!(a in o))return;const l=[...o],u=[...n.value],c=l[r];l[r]=l[a],l[a]=c;const f=u[r];u[r]=u[a],u[a]=f,me(t.values,i,l),n.value=u,s()},insert:function(r,a){const i=d(e),o=he(null==t?void 0:t.values,i);if(!Array.isArray(o)||o.length<r)return;const l=[...o],u=[...n.value];l.splice(r,0,a),u.splice(r,0,c(a)),me(t.values,i,l),n.value=u,f()},update:v,replace:function(n){const r=d(e);t.stageInitialValue(r,n),me(t.values,r,n),u(),f()},prepend:function(r){const a=d(e),i=he(null==t?void 0:t.values,a),o=z(i)?[]:i;if(!Array.isArray(o))return;const l=[r,...o];t.stageInitialValue(a+`[${l.length-1}]`,r),me(t.values,a,l),n.value.unshift(c(r)),f()},move:function(r,a){const i=d(e),o=he(null==t?void 0:t.values,i),l=z(o)?[]:[...o];if(!Array.isArray(o)||!(r in o)||!(a in o))return;const u=[...n.value],s=u[r];u.splice(r,1),u.splice(a,0,s);const c=l[r];l.splice(r,1),l.splice(a,0,c),me(t.values,i,l),n.value=u,f()}};return t.fieldArrays.push(Object.assign({path:e,reset:u},p)),m((()=>{const n=t.fieldArrays.findIndex((t=>d(t.path)===d(e)));n>=0&&t.fieldArrays.splice(n,1)})),h(l,(e=>{ce(e,n.value.map((e=>e.value)))||u()})),p}const lt=e({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:a,insert:i,replace:o,update:l,prepend:u,move:s,fields:c}=ot(F(e,"name"));function d(){return{fields:c.value,push:n,remove:r,swap:a,insert:i,update:l,replace:o,prepend:u,move:s}}return t.expose({push:n,remove:r,swap:a,insert:i,update:l,replace:o,prepend:u,move:s}),()=>Pe(void 0,t,d)}}),ut=e({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=w(Y,void 0),r=c((()=>null==n?void 0:n.errors.value[e.name]));function a(){return{message:r.value}}return()=>{if(!r.value)return;const n=e.as?A(e.as):e.as,i=Pe(n,t,a),o=Object.assign({role:"alert"},t.attrs);return n||!Array.isArray(i)&&i||!(null==i?void 0:i.length)?!Array.isArray(i)&&i||(null==i?void 0:i.length)?S(n,o,i):S(n||"span",o,r.value):i}}});var st=Object.freeze({__proto__:null,ErrorMessage:ut,Field:Qe,FieldArray:lt,FieldContextKey:X,Form:it,FormContextKey:Y,IS_ABSENT:H,configure:De,defineRule:Z,useField:Ke,useFieldArray:ot,useFieldError:function(e){const t=Oe(Y),n=e?void 0:w(X);return c((()=>e?null==t?void 0:t.errors.value[d(e)]:null==n?void 0:n.errorMessage.value))},useFieldValue:function(e){const t=Oe(Y),n=e?void 0:w(X);return c((()=>e?he(null==t?void 0:t.values,d(e)):d(null==n?void 0:n.value)))},useForm:rt,useFormErrors:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>(null==e?void 0:e.errors.value)||{}))},useFormValues:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>(null==e?void 0:e.values)||{}))},useIsFieldDirty:function(e){const t=xe(e);return c((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.dirty:null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.dirty)&&void 0!==n&&n)}))},useIsFieldTouched:function(e){const t=xe(e);return c((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.touched:null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.touched)&&void 0!==n&&n)}))},useIsFieldValid:function(e){const t=xe(e);return c((()=>{var e,n;return!!t&&(null!==(n="meta"in t?t.meta.valid:null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.valid)&&void 0!==n&&n)}))},useIsFormDirty:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.dirty)&&void 0!==t&&t}))},useIsFormTouched:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.touched)&&void 0!==t&&t}))},useIsFormValid:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.meta.value.valid)&&void 0!==t&&t}))},useIsSubmitting:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.isSubmitting.value)&&void 0!==t&&t}))},useIsValidating:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.isValidating.value)&&void 0!==t&&t}))},useResetForm:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),function(t){if(e)return e.resetForm(t)}},useSubmitCount:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),c((()=>{var t;return null!==(t=null==e?void 0:e.submitCount.value)&&void 0!==t?t:0}))},useSubmitForm:function(e){const t=Oe(Y);t||je("No vee-validate <Form /> or `useForm` was detected in the component tree");const n=t?t.handleSubmit(e):void 0;return function(e){if(n)return n(e)}},useValidateField:function(e){const t=Oe(Y),n=e?void 0:w(X);return function(){return n?n.validate():t&&e?null==t?void 0:t.validateField(d(e)):(je(`field with name ${d(e)} was not found`),Promise.resolve({errors:[],valid:!0}))}},useValidateForm:function(){const e=Oe(Y);return e||je("No vee-validate <Form /> or `useForm` was detected in the component tree"),function(){return e?e.validate():Promise.resolve({results:{},errors:{},valid:!0})}},validate:Le,validateObject:We});
/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function ct(e){return null==e||""===e||!(!Array.isArray(e)||0!==e.length)}const dt=e=>{if(ct(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every((e=>t.test(String(e)))):t.test(String(e))},ft=e=>{if(ct(e))return!0;const t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every((e=>t.test(e.name))):t.test(e.name)};const vt=e=>{return!function(e){return null==e}(e)&&(t=e,!Array.isArray(t)||0!==t.length)&&!1!==e&&!!String(e).trim().length;var t};var pt={install:function(e,t){Z("required",vt),Z("requiredArray",(function(e){return!(null!==e&&"object"===P(e)&&Array.isArray(e)&&e.length<2)||"{_field_} array must contain more than one element"})),Z("requiredOb",(function(e){return null===e||"object"!==P(e)||0!==Object.keys(e).length||"{_field_} object must not be empty"})),Z("email",dt),Z("image",ft),Z("private_username",function(){var e=M(_().mark((function e(t){var n,r,a,i,o,l,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y(),r=n.app,a=null==r?void 0:r.appContext.config.globalProperties.$axios,!((i=t.length)<5||i>40)){e.next=7;break}return e.abrupt("return","{_field_} length must be between 5 and 40 characters");case 7:return(o=new FormData).set("user_name",t),e.next=11,a.post("/user/validate/username",o);case 11:if(l=e.sent,(u=l.data).valid){e.next=17;break}return e.abrupt("return",u.message);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z("password",(function(e,t){if(e!==C(t,1)[0])return"The passwords do not match."})),e.mixin({data:function(){return{get cleanObject(){return t.cleanObject||!1}}}})}},ht=null;"undefined"!=typeof window?ht=window.Vue:"undefined"!=typeof global&&(ht=global.Vue),ht&&ht.use(pt);export{x as _,M as a,_ as b,B as c,D as m,pt as p,L as s,$ as v};