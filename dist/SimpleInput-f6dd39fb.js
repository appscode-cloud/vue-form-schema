import{_ as t,l as a,p as e,w as i,q as n,m as l,v as s,n as o}from"./entry-f499d5be.js";import{a as r}from"./add-to-unscopables-15fc3b89.js";import{s as d}from"./size-6e57477f.js";import"vue";import"./object-create-6ee8adb5.js";var u=a.includes;t({target:"Array",proto:!0},{includes:function(t){return u(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes");var c=function(t){if(e(t))throw TypeError("The method doesn't accept regular expressions");return t},v=i("match");t({target:"String",proto:!0,forced:!function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[v]=!1,"/./"[t](a)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(n(this)).indexOf(c(t),arguments.length>1?arguments[1]:void 0)}});var m=o({render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ac-single-input is-small is-information"},["input"===t.ui.tag?["checkbox"===t.ui.type?[e("div",{staticClass:"ac-single-switch is-small is-flex pb-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],staticClass:"switch ac-switch is-rounded is-primary",attrs:{id:t.identifier,type:"checkbox",name:"switchRoundedDefault"},domProps:{checked:Array.isArray(t.modelData)?t._i(t.modelData,null)>-1:t.modelData},on:{change:function(a){var e=t.modelData,i=a.target,n=!!i.checked;if(Array.isArray(e)){var l=t._i(e,null);i.checked?l<0&&(t.modelData=e.concat([null])):l>-1&&(t.modelData=e.slice(0,l).concat(e.slice(l+1)))}else t.modelData=n}}}),t._v(" "),e("label",{staticClass:"switch-label",attrs:{for:t.identifier}},[t._v(t._s(t.schema.title))])])]:[e("label",{class:[t.labelShow?"show-label":"","ac-label"],on:{click:function(a){return a.preventDefault(),t.focusInput()}}},[t._v(t._s(t.schema.title))]),t._v(" "),"input"===t.ui.tag?e("div",[t.isMultilineValue?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],ref:"textareaField",staticClass:"ac-input",class:{"is-success":t.validationOb.validated&&t.validationOb.valid,"is-danger":t.validationOb.validated&&t.validationOb.invalid,"bg-white":t.modelData},staticStyle:{"min-height":"100px"},attrs:{type:t.ui.type,placeholder:t.ui.placeholder||""},domProps:{value:t.modelData},on:{change:function(a){t.modelData=a.target.value},focus:function(a){return t.triggerInput()},focusout:function(a){return t.unTriggerInput()},paste:t.onPaste,input:function(a){a.target.composing||(t.modelData=a.target.value)}}}):"checkbox"===t.ui.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],ref:"inputField",staticClass:"ac-input",class:{"is-success":t.validationOb.validated&&t.validationOb.valid,"is-danger":t.validationOb.validated&&t.validationOb.invalid,"bg-white":t.modelData},attrs:{placeholder:t.ui.placeholder||"",type:"checkbox"},domProps:{checked:Array.isArray(t.modelData)?t._i(t.modelData,null)>-1:t.modelData},on:{change:[function(a){var e=t.modelData,i=a.target,n=!!i.checked;if(Array.isArray(e)){var l=t._i(e,null);i.checked?l<0&&(t.modelData=e.concat([null])):l>-1&&(t.modelData=e.slice(0,l).concat(e.slice(l+1)))}else t.modelData=n},function(a){t.modelData=a.target.value}],focus:function(a){return t.triggerInput()},focusout:function(a){return t.unTriggerInput()},paste:t.onPaste}}):"radio"===t.ui.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],ref:"inputField",staticClass:"ac-input",class:{"is-success":t.validationOb.validated&&t.validationOb.valid,"is-danger":t.validationOb.validated&&t.validationOb.invalid,"bg-white":t.modelData},attrs:{placeholder:t.ui.placeholder||"",type:"radio"},domProps:{checked:t._q(t.modelData,null)},on:{change:[function(a){t.modelData=null},function(a){t.modelData=a.target.value}],focus:function(a){return t.triggerInput()},focusout:function(a){return t.unTriggerInput()},paste:t.onPaste}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],ref:"inputField",staticClass:"ac-input",class:{"is-success":t.validationOb.validated&&t.validationOb.valid,"is-danger":t.validationOb.validated&&t.validationOb.invalid,"bg-white":t.modelData},attrs:{placeholder:t.ui.placeholder||"",type:t.ui.type},domProps:{value:t.modelData},on:{change:function(a){t.modelData=a.target.value},focus:function(a){return t.triggerInput()},focusout:function(a){return t.unTriggerInput()},paste:t.onPaste,input:function(a){a.target.composing||(t.modelData=a.target.value)}}}),t._v(" "),t.validationOb.validated?[t.validationOb.valid?e("span",{staticClass:"button is-information"},[e("i",{staticClass:"fa fa-check"})]):t._e(),t._v(" "),t.validationOb.invalid?e("span",{staticClass:"button is-information is-warning"},[e("i",{staticClass:"fa fa-times"})]):t._e()]:t._e(),t._v(" "),t.validationOb&&t.validationOb.errors&&t.validationOb.errors.length>0?e("p",{staticClass:"is-error"},[t._m(0),t._v("\n          "+t._s(t.validationOb.errors[0])+"\n        ")]):t._e()],2):t._e()]]:t._e(),t._v(" "),"textarea"===t.ui.tag?[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modelData,expression:"modelData"}],staticClass:"input",class:{"is-success":t.validationOb.validated&&t.validationOb.valid,"is-danger":t.validationOb.validated&&t.validationOb.invalid},attrs:{type:t.ui.type,placeholder:t.ui.placeholder||""},domProps:{value:t.modelData},on:{change:function(a){t.modelData=a.target.value},input:function(a){a.target.composing||(t.modelData=a.target.value)}}}),t._v(" "),t.validationOb.validated?[t.valid?e("button",{staticClass:"button is-information is-success"},[e("i",{staticClass:"fa fa-check"})]):t._e(),t._v(" "),t.invalid?e("button",{staticClass:"button is-information is-warning"},[e("i",{staticClass:"fa fa-times"})]):t._e()]:t._e(),t._v(" "),t.validationOb.errors.length>0?e("span",{staticClass:"is-warning"},[e("i",{staticClass:"fa fa-warning warning"}),t._v("\n      "+t._s(t.validationOb.errors[0])+"\n    ")]):t._e()]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"warning"},[a("i",{staticClass:"fa fa-warning"})])}]},void 0,{name:"simple-input",data:function(){return{labelShow:!1,isIntegerSetToNull:!1,isMultilineValue:!1}},methods:{triggerInput:function(){this.labelShow=!0},unTriggerInput:function(){this.modelData||(this.labelShow=!1)},focusInput:function(){this.labelShow=!0,this.$refs.inputField.focus()},onPaste:function(t){var a=(t.clipboardData||window.clipboardData).getData("text"),e=this.updatedModelDataAfterPasteAndKeyDown(t.target,a);a.includes("\n")&&(this.isMultilineValue=!0,this.modelData=e)},handleKeyDownEvent:function(t){if("Enter"===t.code&&t.shiftKey){t.preventDefault();var a=this.updatedModelDataAfterPasteAndKeyDown(t.target);this.isMultilineValue=!0,this.modelData=a}},updatedModelDataAfterPasteAndKeyDown:function(t,a){var e=t.selectionStart,i=t.selectionEnd;return this.modelData.substring(0,e)+(a=a||"\n")+this.modelData.substring(i,this.modelData.length)}},props:{schema:{type:Object,default:function(){return{}}},value:{default:""},validationOb:{type:Object,default:function(){return{}}}},mounted:function(){var t;this.modelData&&(this.labelShow=!0),null===(t=this.$refs.inputField)||void 0===t||t.addEventListener("keydown",this.handleKeyDownEvent)},destroyed:function(){var t;null===(t=this.$refs.inputField)||void 0===t||t.removeEventListener("keydown",this.handleKeyDownEvent)},mixins:[l,s,d],computed:{ui:function(){return this.schema.ui||{tag:"input",type:"text"}},identifier:function(){return"id-".concat(this.schema.title.replace(" ","-"),"-").concat(JSON.stringify((new Date).valueOf()))}},watch:{modelData:{immediate:!0,deep:!0,handler:function(t,a){var e=this;this.isMultilineValue&&setTimeout((function(){e.$refs.textareaField.focus()}),0),"string"==typeof t&&t.includes("\n")&&(this.isMultilineValue=!0),this.labelShow=!!t,(this.isIntegerSetToNull||null!=a)&&(this.isIntegerSetToNull&&t&&(this.isIntegerSetToNull=!1),"number"===this.type||"integer"===this.type?""===t?(this.isIntegerSetToNull=!0,this.$emit("input",null)):this.$emit("input",+t):this.$emit("input",t))}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);export default m;