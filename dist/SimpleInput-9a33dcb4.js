import{m as t,v as e}from"./entry-786b8505.js";import{s as i}from"./size-fa8bdc56.js";import{defineComponent as a,openBlock as n,createElementBlock as l,Fragment as o,withDirectives as s,createElementVNode as u,vModelCheckbox as r,toDisplayString as d,normalizeClass as c,withModifiers as p,vModelText as h,vModelDynamic as f,createCommentVNode as m,createTextVNode as v}from"vue";var y=a({name:"SimpleInput",mixins:[t,e,i],props:{schema:{type:Object,default:function(){return{}}},modelValue:{type:null,default:""},validationOb:{type:Object,default:function(){return{}}}},emits:["update:modelValue"],data:function(){return{labelShow:!1,isIntegerSetToNull:!1,isMultilineValue:!1}},computed:{ui:function(){return this.schema.ui||{tag:"input",type:"text"}},identifier:function(){return"id-".concat(this.schema.title.replace(" ","-"),"-").concat(JSON.stringify((new Date).valueOf()))}},watch:{modelData:{immediate:!0,deep:!0,handler:function(t,e){var i=this;this.isMultilineValue&&setTimeout((function(){i.$refs.textareaField.focus()}),0),"string"==typeof t&&t.includes("\n")&&(this.isMultilineValue=!0),this.labelShow=!!t,(this.isIntegerSetToNull||null!=e)&&(this.isIntegerSetToNull&&t&&(this.isIntegerSetToNull=!1),"number"===this.type||"integer"===this.type?""===t?(this.isIntegerSetToNull=!0,this.$emit("update:modelValue",null)):this.$emit("update:modelValue",+t):this.$emit("update:modelValue",t))}}},mounted:function(){var t;this.modelData&&(this.labelShow=!0),null===(t=this.$refs.inputField)||void 0===t||t.addEventListener("keydown",this.handleKeyDownEvent)},destroyed:function(){var t;null===(t=this.$refs.inputField)||void 0===t||t.removeEventListener("keydown",this.handleKeyDownEvent)},methods:{triggerInput:function(){this.labelShow=!0},unTriggerInput:function(){this.modelData||(this.labelShow=!1)},focusInput:function(){this.labelShow=!0,this.$refs.inputField.focus()},onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text"),i=this.updatedModelDataAfterPasteAndKeyDown(t.target,e);e.includes("\n")&&(this.isMultilineValue=!0,this.modelData=i)},handleKeyDownEvent:function(t){if("Enter"===t.code&&t.shiftKey){t.preventDefault();var e=this.updatedModelDataAfterPasteAndKeyDown(t.target);this.isMultilineValue=!0,this.modelData=e}},updatedModelDataAfterPasteAndKeyDown:function(t,e){var i=t.selectionStart,a=t.selectionEnd;return this.modelData.substring(0,i)+(e=e||"\n")+this.modelData.substring(a,this.modelData.length)}}}),b={class:"ac-single-input is-small is-information"},g={key:0,class:"ac-single-switch is-small is-flex pb-10"},D=["id"],w=["for"],O={key:0},k=["type","placeholder"],S=["type","placeholder"],V={key:0,class:"button is-information"},I=[u("i",{class:"fa fa-check"},null,-1)],x={key:1,class:"button is-information is-warning"},F=[u("i",{class:"fa fa-times"},null,-1)],P={key:3,class:"is-error"},M=u("span",{class:"warning"},[u("i",{class:"fa fa-warning"})],-1),T=["type","placeholder"],E={key:0,class:"button is-information is-success"},K=[u("i",{class:"fa fa-check"},null,-1)],$={key:1,class:"button is-information is-warning"},A=[u("i",{class:"fa fa-times"},null,-1)],N={key:1,class:"is-warning"},j=u("i",{class:"fa fa-warning warning"},null,-1);y.render=function(t,e,i,a,y,C){return n(),l("div",b,["input"===t.ui.tag?(n(),l(o,{key:0},["checkbox"===t.ui.type?(n(),l("div",g,[s(u("input",{id:t.identifier,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.modelData=e}),type:"checkbox",name:"switchRoundedDefault",class:"switch ac-switch is-rounded is-primary"},null,8,D),[[r,t.modelData]]),u("label",{class:"switch-label",for:t.identifier},d(t.schema.title),9,w)])):(n(),l(o,{key:1},[u("label",{class:c([t.labelShow?"show-label":"","ac-label"]),onClick:e[1]||(e[1]=p((function(e){return t.focusInput()}),["prevent"]))},d(t.schema.title),3),"input"===t.ui.tag?(n(),l("div",O,[t.isMultilineValue?s((n(),l("textarea",{key:0,ref:"textareaField","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.modelData=e}),class:c(["ac-input",{"is-success":t.validationOb.dirty&&t.validationOb.valid,"is-danger":t.validationOb.dirty&&!t.validationOb.valid,"bg-white":t.modelData}]),style:{"min-height":"100px"},type:t.ui.type,placeholder:t.ui.placeholder||"",onChange:e[3]||(e[3]=function(e){return t.modelData=e.target.value}),onFocus:e[4]||(e[4]=function(e){return t.triggerInput()}),onFocusout:e[5]||(e[5]=function(e){return t.unTriggerInput()}),onPaste:e[6]||(e[6]=function(){return t.onPaste&&t.onPaste.apply(t,arguments)})},null,42,k)),[[h,t.modelData]]):s((n(),l("input",{key:1,ref:"inputField","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.modelData=e}),class:c(["ac-input",{"is-success":t.validationOb.dirty&&t.validationOb.valid,"is-danger":t.validationOb.dirty&&!t.validationOb.valid,"bg-white":t.modelData}]),type:t.ui.type,placeholder:t.ui.placeholder||"",onChange:e[8]||(e[8]=function(e){return t.modelData=e.target.value}),onFocus:e[9]||(e[9]=function(e){return t.triggerInput()}),onFocusout:e[10]||(e[10]=function(e){return t.unTriggerInput()}),onPaste:e[11]||(e[11]=function(){return t.onPaste&&t.onPaste.apply(t,arguments)})},null,42,S)),[[f,t.modelData]]),t.validationOb.dirty?(n(),l(o,{key:2},[t.validationOb.valid?(n(),l("span",V,I)):m("",!0),t.validationOb.valid?m("",!0):(n(),l("span",x,F))],64)):m("",!0),t.validationOb&&t.validationOb.errors&&t.validationOb.errors.length>0?(n(),l("p",P,[M,v(" "+d(t.validationOb.errors[0]),1)])):m("",!0)])):m("",!0)],64))],64)):m("",!0),"textarea"===t.ui.tag?(n(),l(o,{key:1},[s(u("textarea",{"onUpdate:modelValue":e[12]||(e[12]=function(e){return t.modelData=e}),class:c(["input",{"is-success":t.validationOb.dirty&&t.validationOb.valid,"is-danger":t.validationOb.dirty&&!t.validationOb.valid}]),type:t.ui.type,placeholder:t.ui.placeholder||"",onChange:e[13]||(e[13]=function(e){return t.modelData=e.target.value})},null,42,T),[[h,t.modelData]]),t.validationOb.dirty?(n(),l(o,{key:0},[t.valid?(n(),l("button",E,K)):m("",!0),t.invalid?(n(),l("button",$,A)):m("",!0)],64)):m("",!0),t.validationOb.errors.length>0?(n(),l("span",N,[j,v(" "+d(t.validationOb.errors[0]),1)])):m("",!0)],64)):m("",!0)])};export{y as default};