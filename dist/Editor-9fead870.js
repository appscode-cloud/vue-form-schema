import{defineComponent as e,defineAsyncComponent as a,ref as t,computed as l,watch as i,openBlock as o,createElementBlock as n,createBlock as d,unref as r,createCommentVNode as u,normalizeClass as s,normalizeStyle as v}from"vue";var p=e({__name:"Editor",props:{modelValue:{default:""},originalValue:{default:""},readOnly:{type:Boolean,default:!1},language:{default:""},showMinimap:{type:Boolean,default:!1},editorHeight:{default:40},editorTheme:{default:""},wordWrap:{default:"on"},validation:{default:()=>({uri:""})}},emits:["update:modelValue"],setup(e,{emit:p}){const m=e,g=p,c=a((()=>import("./EditorTabs-ec1fa66a.js"))),y=a((()=>import("./Preloader-e17b7349.js"))),f=a((()=>import("./Banner-3286242e.js"))),h=a({loader:()=>import("./MonacoEditor-f41826a2.js"),loadingComponent:y,delay:200,errorComponent:f,timeout:1e5}),w=t("edit"),b=t(""),B=t(""),E=l((()=>{const e=b.value.split("\n").length;return m.showMinimap&&e>25})),T=l((()=>m.editorTheme||(document.documentElement.classList.contains("is-dark-theme")?"vs-dark":"vs"))),V=e=>{"string"==typeof e&&(b.value=e)},k=e=>{e.onDidBlurEditorText instanceof Function&&e.onDidBlurEditorText((()=>{g("update:modelValue",b.value)}))},H=l((()=>"number"==typeof m.editorHeight?`vh-${m.editorHeight}`:"")),L=l((()=>"string"==typeof m.editorHeight?{height:m.editorHeight}:{}));return i((()=>m.modelValue),(e=>{b.value!==e&&(b.value=e)}),{immediate:!0}),i((()=>m.originalValue),(e=>{B.value!==e&&(B.value=e)}),{immediate:!0}),(e,a)=>(o(),n("div",null,[e.readOnly?u("",!0):(o(),d(r(c),{key:0,onTabchange:a[0]||(a[0]=e=>w.value=e),"active-tab":w.value},null,8,["active-tab"])),"edit"===w.value?(o(),d(r(h),{onEditorDidMount:k,key:"edit",class:s(["is-clipped",H.value]),style:v(L.value),value:b.value,onChange:V,language:e.language,options:{minimap:{enabled:E.value},theme:T.value,readOnly:e.readOnly,wordWrap:e.wordWrap,scrollBeyondLastLine:!1},validation:e.validation,"data-testid":"monaco-editor-edit-section"},null,8,["class","style","value","language","options","validation"])):u("",!0),"preview"===w.value?(o(),d(r(h),{key:"preview",class:s(["is-clipped",H.value]),style:v(L.value),value:b.value,language:e.language,options:{minimap:{enabled:E.value},theme:T.value,readOnly:!0,wordWrap:e.wordWrap,scrollBeyondLastLine:!1},original:B.value,"diff-editor":!0,validation:e.validation,"data-testid":"monaco-editor-preview-section"},null,8,["class","style","value","language","options","original","validation"])):u("",!0)]))}});export{p as default};