import{m as e,v as t,i as a,r as s,n}from"./entry-f499d5be.js";import{t as i}from"./tabs-b855aab2.js";import{s as r}from"./size-6e57477f.js";import"vue";var l=n({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-observer",{key:e.updatePass,ref:e.schema.title.replace(/ /g,"-")+"-observer",staticClass:"ac-nested-elements vue-schema-form-array array-input",class:{"stop-line":e.isLastChild},attrs:{tag:"div",vid:e.schema.title.replace(/ /g,"-")+"-observer"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("div",{staticClass:"nested-header mb-5"},[a("h6",{staticClass:"is-flex is-semi-normal"},[a("div",{staticClass:"collaps-icon is-disabled"},[a("i",{staticClass:"fa fa-minus"})]),e._v("\n      "+e._s(e.schema.title||"Array Item Description")+"\n      "),a("component-errors",{attrs:{errors:e.errors.concat(e.calcObserverError(s))}})],1),e._v(" "),a("tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"form"===e.activeTab,expression:"activeTab === 'form'"}]},[e._l(e.modelData,(function(t,s){return a("div",{key:s+"-"+e.schema.title+"-form",staticClass:"nested-body"},[a("array-input-items",{attrs:{items:e.items,schema:e.schema,index:s,value:e.modelData,"reference-model":e.referenceModel||[]}}),e._v(" "),a("div",{staticClass:"form-right-item"},[a("div",{staticClass:"buttons"},[a("div",{staticClass:"up-down-buttons",class:{"is-small":!e.isMedium}},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"move up",placement:"top",classes:["is-button-info"],targetClasses:["up-down-button"]},expression:"{\n                content: 'move up',\n                placement: 'top',\n                classes: ['is-button-info'],\n                targetClasses: ['up-down-button'],\n              }"}],staticClass:"up-down-button",class:{"is-info":0!==s},attrs:{disabled:0===s},on:{click:function(t){return t.preventDefault(),e.swapElems(s-1,s)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fa fa-angle-up"})])]),e._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"move down",placement:"bottom",classes:["is-button-info"],targetClasses:["up-down-button"]},expression:"{\n                content: 'move down',\n                placement: 'bottom',\n                classes: ['is-button-info'],\n                targetClasses: ['up-down-button'],\n              }"}],staticClass:"up-down-button",class:{"is-info":s!==e.modelData.length-1},attrs:{disabled:s===e.modelData.length-1},on:{click:function(t){return t.preventDefault(),e.swapElems(s,s+1)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fa fa-angle-down"})])])]),e._v(" "),a("button",{staticClass:"button ac-button is-small is-square is-outlined-gray is-transparent mb-0",class:{"is-small":!e.isMedium},on:{click:function(t){return t.preventDefault(),e.deleteValue(s)}}},[a("i",{staticClass:"fa fa-trash"})])])])],1)})),e._v(" "),a("validation-observer",{ref:e.schema.title.replace(/ /g,"-")+"-new",attrs:{vid:e.schema.title.replace(/ /g,"-")+"-new-observer",disabled:!0,slim:""}},[a("div",{staticClass:"value-list-save"},["object"===e.items.type?[a("validation-provider",{attrs:{rules:e.ruleObject(!0),name:e.schema.title.replace(/ /g,"-")+"-new-value",vid:e.schema.title.replace(/ /g,"-")+"-new-value-provider",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("object-form-wrapper",{attrs:{"is-last-child":!0,isSelfRequired:!0,schema:Object.assign({},e.items,{title:e.schema.title+" new value"}),type:e.items.type,errors:s,"reference-model":{}},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})]}}],null,!0)})]:"key-value-pairs"===e.items.type?[a("validation-provider",{attrs:{rules:e.ruleObject(!0),name:e.schema.title.replace(/ /g,"-")+"-new-value",vid:e.schema.title.replace(/ /g,"-")+"-new-value-provider",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("key-value-pairs",{attrs:{"is-last-child":!0,schema:Object.assign({},e.items,{title:e.schema.title+" new value"}),errors:s,type:e.items.type,"reference-model":{}},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})]}}],null,!0)})]:"array"===e.items.type?[a("validation-provider",{attrs:{rules:e.ruleArray(!0),name:e.schema.title.replace(/ /g,"-")+"-new-value",vid:e.schema.title.replace(/ /g,"-")+"-new-value-provider",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("array-input",{attrs:{"is-last-child":!0,schema:Object.assign({},e.items,{title:e.schema.title+" new value"}),errors:s,type:e.items.type,"reference-model":[]},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})]}}],null,!0)})]:[a("validation-provider",{attrs:{rules:e.ruleString(!0),name:e.schema.title.replace(/ /g,"-")+"-new-value",vid:e.schema.title.replace(/ /g,"-")+"-new-value-provider",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("simple-input",{attrs:{schema:Object.assign({},e.items,{title:e.schema.title+" new value"}),required:!0,type:e.items.type,validationOb:t,"reference-model":""},model:{value:e.newData,callback:function(t){e.newData=t},expression:"newData"}})]}}],null,!0)})],e._v(" "),a("button",{staticClass:"button ac-button is-small is-square is-outlined-gray is-transparent",class:{"is-small":!e.isMedium},on:{click:function(t){return t.preventDefault(),e.addNewValue()}}},[a("i",{staticClass:"fa fa-plus"})])],2)])],2),e._v(" "),"yaml"===e.activeTab?a("yaml-form",{attrs:{"reference-model":e.referenceModel||[]},model:{value:e.modelData,callback:function(t){e.modelData=t},expression:"modelData"}}):"json"===e.activeTab?a("json-form",{attrs:{"reference-model":e.referenceModel||[]},model:{value:e.modelData,callback:function(t){e.modelData=t},expression:"modelData"}}):e._e()]}}])})},staticRenderFns:[]},void 0,{name:"array-input",components:{ArrayInputItems:function(){return import("./ArrayInputItems-9d511f91.js").then((function(e){return e.default}))}},props:{schema:{type:Object,default:function(){return{}}},value:{type:null,default:function(){return[]}},errors:{type:Array,default:function(){return[]}},isLastChild:{type:Boolean,default:!1}},mixins:[e,i,t,r],data:function(){return{newData:null,updatePass:0}},computed:{items:function(){return this.schema.items||{}}},methods:{swapElems:function(e,t){var a=this.modelData[e];this.$set(this.modelData,e,this.modelData[t]),this.$set(this.modelData,t,a),this.updatePass+=1},addNewValue:function(){var e=this;return a(s.mark((function t(){var a;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e.schema.title.replace(/ /g,"-"),"-new"),t.next=3,e.$refs[a].validate();case 3:t.sent&&(e.modelData.push(e.newData),e.newData=null,e.updatePass+=1);case 5:case"end":return t.stop()}}),t)})))()},deleteValue:function(e){this.$delete(this.modelData,e),this.updatePass+=1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);export default l;