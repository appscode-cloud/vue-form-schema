import{m as e,v as a,a as t,b as l,_ as n}from"./entry-99016fd3.js";import{t as s}from"./tabs-262f1112.js";import{s as r}from"./size-fa8bdc56.js";import{defineComponent as o,defineAsyncComponent as u,resolveComponent as i,resolveDirective as m,openBlock as d,createElementBlock as c,normalizeClass as f,createElementVNode as p,createTextVNode as v,toDisplayString as h,createVNode as b,withDirectives as y,Fragment as w,renderList as V,withModifiers as D,withCtx as k,createBlock as C,vShow as g,createCommentVNode as U}from"vue";var I=o({name:"ArrayInput",components:{ArrayInputItems:u((function(){return import("./ArrayInputItems-126d70f4.js").then((function(e){return e.default}))}))},mixins:[e,s,a,r],props:{schema:{type:Object,default:function(){return{}}},fieldName:{type:String,default:""},modelValue:{type:null,default:function(){return[]}},errors:{type:Object,default:function(){return{}}},isLastChild:{type:Boolean,default:!1}},data:function(){return{newData:null,updatePass:0}},computed:{items:function(){return this.schema.items||{}}},methods:{swapElems:function(e,a){var t=this.modelData[e];this.modelData[e]=this.modelData[a],this.modelData[a]=t,this.updatePass+=1},addNewValue:function(e){var a=this;return t(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,n.valid&&(a.modelData.push(a.newData),a.newData=null,a.updatePass+=1);case 5:case"end":return t.stop()}}),t)})))()},deleteValue:function(e){this.modelData.splice(e,1),this.updatePass+=1}}}),j={class:"nested-header mb-5"},x={class:"is-flex is-semi-normal"},M=p("div",{class:"collaps-icon is-disabled"},[p("i",{class:"fa fa-minus"})],-1),_={class:"form-right-item"},A={class:"buttons"},N=["disabled","onClick"],P=[p("span",{class:"icon is-small"},[p("i",{class:"fa fa-angle-up"})],-1)],T=["disabled","onClick"],q=[p("span",{class:"icon is-small"},[p("i",{class:"fa fa-angle-down"})],-1)],E=["onClick"],O=[p("i",{class:"fa fa-trash"},null,-1)],L={class:"value-list-save"},S=["onClick"],z=[p("i",{class:"fa fa-plus"},null,-1)];I.render=function(e,a,t,l,s,r){var o=i("component-errors"),u=i("tabs"),I=i("array-input-items"),B=i("object-form-wrapper"),F=i("v-field"),G=i("key-value-pairs"),H=i("array-input",!0),J=i("simple-input"),K=i("v-form"),Q=i("yaml-form"),R=i("json-form"),W=m("tooltip");return d(),c("div",{key:e.updatePass,as:"div",class:f(["ac-nested-elements vue-schema-form-array array-input",{"stop-line":e.isLastChild}])},[p("div",j,[p("h6",x,[M,v(" "+h(e.schema.title||"Array Item Description")+" ",1),b(o,{errors:e.calcFormErrors(e.errors,e.fieldName)},null,8,["errors"])]),b(u,{modelValue:e.activeTab,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.activeTab=a})},null,8,["modelValue"])]),y(p("div",null,[(d(!0),c(w,null,V(e.modelData,(function(a,t){return d(),c("div",{key:"".concat(t,"-").concat(e.schema.title,"-form"),class:"nested-body"},[b(I,{"field-name":e.fieldName,items:e.items,schema:e.schema,index:t,"model-value":e.modelData,errors:e.errors,"reference-model":e.referenceModel||[]},null,8,["field-name","items","schema","index","model-value","errors","reference-model"]),p("div",_,[p("div",A,[p("div",{class:f(["up-down-buttons",{"is-small":!e.isMedium}])},[y((d(),c("button",{class:f(["up-down-button",{"is-info":0!==t}]),disabled:0===t,onClick:D((function(a){return e.swapElems(t-1,t)}),["prevent"])},P,10,N)),[[W,{content:"move up",placement:"top",classes:["is-button-info"],targetClasses:["up-down-button"]}]]),y((d(),c("button",{class:f(["up-down-button",{"is-info":t!==e.modelData.length-1}]),disabled:t===e.modelData.length-1,onClick:D((function(a){return e.swapElems(t,t+1)}),["prevent"])},q,10,T)),[[W,{content:"move down",placement:"bottom",classes:["is-button-info"],targetClasses:["up-down-button"]}]])],2),p("button",{class:f(["button ac-button is-small is-square is-outlined-gray is-transparent mb-0",{"is-small":!e.isMedium}]),onClick:D((function(a){return e.deleteValue(t)}),["prevent"])},O,10,E)])])])})),128)),b(K,{as:""},{default:k((function(t){var l=t.validate,s=t.errors;return[p("div",L,["object"===e.items.type?(d(),C(F,{key:0,modelValue:e.newData,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.newData=a}),rules:e.ruleObject(!0),name:"newItem",label:"".concat(e.schema.title," new value"),as:""},{default:k((function(a){var t=a.field,l=a.handleChange;return[b(B,{"field-name":"newItem","model-value":t.value,"is-last-child":!0,"expand-form":!0,"is-self-required":!0,schema:n(n({},e.items),{title:"".concat(e.schema.title," new value")}),type:e.items.type,errors:s,"reference-model":{},"onUpdate:modelValue":l},null,8,["model-value","schema","type","errors","onUpdate:modelValue"])]})),_:2},1032,["modelValue","rules","label"])):"key-value-pairs"===e.items.type?(d(),C(F,{key:1,modelValue:e.newData,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.newData=a}),rules:e.ruleObject(!0),name:"newItem",label:"".concat(e.schema.title," new value"),as:""},{default:k((function(a){var t=a.field,l=a.handleChange;return[b(G,{"field-name":"newItem","model-value":t.value,"is-last-child":!0,schema:n(n({},e.items),{title:"".concat(e.schema.title," new value")}),errors:s,type:e.items.type,"reference-model":{},"onUpdate:modelValue":l},null,8,["model-value","schema","errors","type","onUpdate:modelValue"])]})),_:2},1032,["modelValue","rules","label"])):"array"===e.items.type?(d(),C(F,{key:2,modelValue:e.newData,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.newData=a}),rules:e.ruleArray(!0),name:"newItem",label:"".concat(e.schema.title," new value"),as:""},{default:k((function(a){var t=a.field,l=a.handleChange;return[b(H,{"field-name":"newItem","model-value":t.value,"is-last-child":!0,schema:n(n({},e.items),{title:"".concat(e.schema.title," new value")}),errors:s,type:e.items.type,"reference-model":[],"onUpdate:modelValue":l},null,8,["model-value","schema","errors","type","onUpdate:modelValue"])]})),_:2},1032,["modelValue","rules","label"])):(d(),C(F,{key:3,modelValue:e.newData,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.newData=a}),rules:e.ruleString(!0),name:"newItem",label:"".concat(e.schema.title," new value"),as:""},{default:k((function(a){var t=a.field,l=a.handleChange,s=a.errors,r=a.meta;return[b(J,{"model-value":t.value,schema:n(n({},e.items),{title:"".concat(e.schema.title," new value")}),required:!0,type:e.items.type,"validation-ob":n({errors:s},r),"reference-model":"","onUpdate:modelValue":l},null,8,["model-value","schema","type","validation-ob","onUpdate:modelValue"])]})),_:1},8,["modelValue","rules","label"])),p("button",{class:f(["button ac-button is-small is-square is-outlined-gray is-transparent",{"is-small":!e.isMedium}]),onClick:D((function(a){return e.addNewValue(l)}),["prevent"])},z,10,S)])]})),_:1})],512),[[g,"form"===e.activeTab]]),"yaml"===e.activeTab?(d(),C(Q,{key:0,modelValue:e.modelData,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.modelData=a}),"reference-model":e.referenceModel||[]},null,8,["modelValue","reference-model"])):"json"===e.activeTab?(d(),C(R,{key:1,modelValue:e.modelData,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.modelData=a}),"reference-model":e.referenceModel||[]},null,8,["modelValue","reference-model"])):U("",!0)],2)};export{I as default};