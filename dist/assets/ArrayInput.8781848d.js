import{b as A,d as B,a as L,_ as M,r as o,l as P,o as n,h as u,g as a,i as T,t as E,e as m,m as h,v as O,F as S,p as F,w as p,c as d,j as q,n as v,k as f}from"./index.73bd9567.js";import{m as z,v as H}from"./VueOpenapiForm.eb6aaf9b.js";import{t as R}from"./tabs.62b38784.js";import{s as G}from"./size.609a1df0.js";const J=B({name:"ArrayInput",components:{ArrayInputItems:L(()=>M(()=>import("./ArrayInputItems.71f5a0c7.js"),["assets/ArrayInputItems.71f5a0c7.js","assets/VueOpenapiForm.eb6aaf9b.js","assets/VueOpenapiForm.b2b9afd1.css","assets/index.73bd9567.js","assets/index.a9ae3d8e.css"]).then(e=>e.default))},mixins:[z,R,H,G],props:{schema:{type:Object,default:()=>({})},fieldName:{type:String,default:""},modelValue:{type:null,default:()=>[]},errors:{type:Object,default:()=>({})},isLastChild:{type:Boolean,default:!1}},data(){return{newData:null,updatePass:0}},computed:{items(){return this.schema.items||{}}},methods:{swapElems(e,s){const w=this.modelData[e];this.modelData[e]=this.modelData[s],this.modelData[s]=w,this.updatePass+=1},async addNewValue(e){const{valid:s}=await e();s&&(this.modelData.push(this.newData),this.newData=null,this.updatePass+=1)},deleteValue(e){this.modelData.splice(e,1),this.updatePass+=1}}}),K={class:"nested-header mb-5"},Q={class:"is-flex is-semi-normal"},W=a("div",{class:"collaps-icon is-disabled"},[a("i",{class:"fa fa-minus"})],-1),X={class:"is-flex gap-16 is-flex-direction-column"},Y={class:"form-right-item"},Z={class:"buttons",style:{gap:"4px"}},x=["disabled","onClick"],ee=a("span",{class:"icon is-small"},[a("i",{class:"fa fa-angle-up"})],-1),ae=[ee],se=["disabled","onClick"],le=a("span",{class:"icon is-small"},[a("i",{class:"fa fa-angle-down"})],-1),te=[le],oe=["onClick"],ne=a("span",{class:"icon"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),re=[ne],me={class:"value-list-save"},ie=["onClick"],de=a("div",{class:"icon"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),ue=[de];function pe(e,s,w,ce,ve,fe){const b=o("component-errors"),V=o("tabs"),k=o("array-input-items"),D=o("object-form-wrapper"),c=o("v-field"),g=o("key-value-pairs"),C=o("array-input",!0),_=o("simple-input"),$=o("v-form"),U=o("yaml-form"),j=o("json-form"),y=P("tooltip");return n(),u("div",{key:e.updatePass,as:"div",class:v(["ac-nested-elements vue-schema-form-array array-input",{"stop-line":e.isLastChild}])},[a("div",K,[a("h6",Q,[W,T(" "+E(e.schema.title||"Array Item Description")+" ",1),m(b,{errors:e.calcFormErrors(e.errors,e.fieldName)},null,8,["errors"])]),m(V,{modelValue:e.activeTab,"onUpdate:modelValue":s[0]||(s[0]=r=>e.activeTab=r)},null,8,["modelValue"])]),h(a("div",X,[(n(!0),u(S,null,F(e.modelData,(r,t)=>(n(),u("div",{key:`${t}-${e.schema.title}-form`,class:"nested-body"},[m(k,{"field-name":e.fieldName,items:e.items,schema:e.schema,index:t,"model-value":e.modelData,errors:e.errors,"reference-model":e.referenceModel||[]},null,8,["field-name","items","schema","index","model-value","errors","reference-model"]),a("div",Y,[a("div",Z,[a("div",{class:v(["buttons up-down-buttons",{"is-small":!e.isMedium}])},[h((n(),u("button",{class:v(["up-down-button",{"is-primary":t!==0}]),disabled:t===0,onClick:f(l=>e.swapElems(t-1,t),["prevent"])},ae,10,x)),[[y,{content:"move up",placement:"top",classes:["is-primary"],targetClasses:["up-down-button"]}]]),h((n(),u("button",{class:v(["up-down-button",{"is-primary":t!==e.modelData.length-1}]),disabled:t===e.modelData.length-1,onClick:f(l=>e.swapElems(t,t+1),["prevent"])},te,10,se)),[[y,{content:"move down",placement:"bottom",classes:["is-primary"],targetClasses:["up-down-button"]}]])],2),a("button",{class:"button ac-button is-medium is-danger is-outlined mb-0",onClick:f(l=>e.deleteValue(t),["prevent"])},re,8,oe)])])]))),128)),m($,{as:""},{default:p(({validate:r,errors:t})=>[a("div",me,[e.items.type==="object"?(n(),d(c,{key:0,modelValue:e.newData,"onUpdate:modelValue":s[1]||(s[1]=l=>e.newData=l),rules:e.ruleObject(!0),name:"newItem",label:`${e.schema.title} new value`,as:""},{default:p(({field:l,handleChange:i})=>[m(D,{"field-name":"newItem","model-value":l.value,"is-last-child":!0,"expand-form":!0,"is-self-required":!0,schema:{...e.items,title:`${e.schema.title} new value`},type:e.items.type,errors:t,"reference-model":{},"onUpdate:modelValue":i},null,8,["model-value","schema","type","errors","onUpdate:modelValue"])]),_:2},1032,["modelValue","rules","label"])):e.items.type==="key-value-pairs"?(n(),d(c,{key:1,modelValue:e.newData,"onUpdate:modelValue":s[2]||(s[2]=l=>e.newData=l),rules:e.ruleObject(!0),name:"newItem",label:`${e.schema.title} new value`,as:""},{default:p(({field:l,handleChange:i})=>[m(g,{"field-name":"newItem","model-value":l.value,"is-last-child":!0,schema:{...e.items,title:`${e.schema.title} new value`},errors:t,type:e.items.type,"reference-model":{},"onUpdate:modelValue":i},null,8,["model-value","schema","errors","type","onUpdate:modelValue"])]),_:2},1032,["modelValue","rules","label"])):e.items.type==="array"?(n(),d(c,{key:2,modelValue:e.newData,"onUpdate:modelValue":s[3]||(s[3]=l=>e.newData=l),rules:e.ruleArray(!0),name:"newItem",label:`${e.schema.title} new value`,as:""},{default:p(({field:l,handleChange:i})=>[m(C,{"field-name":"newItem","model-value":l.value,"is-last-child":!0,schema:{...e.items,title:`${e.schema.title} new value`},errors:t,type:e.items.type,"reference-model":[],"onUpdate:modelValue":i},null,8,["model-value","schema","errors","type","onUpdate:modelValue"])]),_:2},1032,["modelValue","rules","label"])):(n(),d(c,{key:3,modelValue:e.newData,"onUpdate:modelValue":s[4]||(s[4]=l=>e.newData=l),rules:e.ruleString(!0),name:"newItem",label:`${e.schema.title} new value`,as:""},{default:p(({field:l,handleChange:i,errors:I,meta:N})=>[m(_,{"model-value":l.value,schema:{...e.items,title:`${e.schema.title} new value`},required:!0,type:e.items.type,"validation-ob":{errors:I,...N},"reference-model":"","onUpdate:modelValue":i},null,8,["model-value","schema","type","validation-ob","onUpdate:modelValue"])]),_:1},8,["modelValue","rules","label"])),a("button",{class:"button ac-button is-medium is-primary is-outlined",onClick:f(l=>e.addNewValue(r),["prevent"])},ue,8,ie)])]),_:1})],512),[[O,e.activeTab==="form"]]),e.activeTab==="yaml"?(n(),d(U,{key:0,modelValue:e.modelData,"onUpdate:modelValue":s[5]||(s[5]=r=>e.modelData=r),"reference-model":e.referenceModel||[]},null,8,["modelValue","reference-model"])):e.activeTab==="json"?(n(),d(j,{key:1,modelValue:e.modelData,"onUpdate:modelValue":s[6]||(s[6]=r=>e.modelData=r),"reference-model":e.referenceModel||[]},null,8,["modelValue","reference-model"])):q("",!0)],2)}var Ve=A(J,[["render",pe]]);export{Ve as default};
